<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>跨域问题的解决方案汇总</title>
</head>
<body>

<script src="javascripts/jquery.js"></script>
<script>
    //jsonp
    // $.ajax({
    //     url:'http://127.0.0.1:8080/users/jsonp',
    //     dataType:'jsonp',//设置返回的数据形式
    //     success:function (users) {
    //         console.log(users);
    //     }
    // });

    //cors get
    // $.ajax({
    //     url:'http://127.0.0.1:8080/users/cors',
    //     success:function (users) {
    //         console.log(users);
    //     }
    // });

    //cors post
    // $.ajax({
    //     url:'http://127.0.0.1:8080/users/cors',
    //     method:'post',//默认编码urlencoded
    //     headers:{'Content-Type':'application/json'},
    //     data:JSON.stringify({name:'jerry',age:20}),
    //     success:function (users) {
    //         console.log(users);
    //     }
    // });

    //cors put
    // $.ajax({
    //     url:'http://127.0.0.1:8080/users/cors',
    //     method:'put',
    //     headers:{'Content-Type':'application/json'},
    //     data:JSON.stringify({name:'tom',age:21}),
    //     success:function (users) {
    //         console.log(users);
    //     }
    // });

    //cors withCredentials
    $.ajax({
        url:'http://127.0.0.1:8080/users/cors',
        method:'put',
        headers:{'Content-Type':'application/json'},
        xhrFields:{withCredentials:true},
        data:JSON.stringify({name:'tom',age:21}),
        success:function (users) {
            console.log(users);
        }
    });
</script>
</body>
</html>